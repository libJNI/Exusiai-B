package today.exusiai.modules.collection.exploit;

import net.minecraft.network.PacketBuffer;
import net.minecraft.network.play.client.C17PacketCustomPayload;
import net.minecraft.network.play.server.S3FPacketCustomPayload;
import today.exusiai.event.ActiveEvent;
import today.exusiai.event.events.EventPacket;
import today.exusiai.modules.AbstractModule;
import today.exusiai.utils.ChatUtil;

public class C17Debugger extends AbstractModule {

    public C17Debugger() {
        super("C17Debugger", 0, Category.Other);
    }

    @ActiveEvent
    public void onPacket(final EventPacket event) {
    	if (event.packet instanceof C17PacketCustomPayload) {
    		C17PacketCustomPayload C17 = (C17PacketCustomPayload)event.packet;
            ChatUtil.printChatwithPrefix("Send C17PacketCustomPayload! Data: " + C17.getChannelName() + " | " + 
            		new String(new PacketBuffer(C17.getBufferData()).readByteArray()));         
            System.out.println("Send C17PacketCustomPayload! Data: " + C17.getChannelName() + ", " + 
            		new String(new PacketBuffer(C17.getBufferData()).readByteArray()) + ", " + C17.toString());
          } 
          if (event.packet instanceof S3FPacketCustomPayload) {
        	  S3FPacketCustomPayload S3F = (S3FPacketCustomPayload)event.packet;
        	  ChatUtil.printChatwithPrefix("Received S3FPacketCustomPayload! Data: " + S3F.getChannelName() + ", " + 
        			  new String(new PacketBuffer(S3F.getBufferData()).readByteArray()) + ", " + S3F.toString());
            System.out.println("Received S3FPacketCustomPayload! Data: " + S3F.getChannelName() + ", " + 
            		new String(new PacketBuffer(S3F.getBufferData()).readByteArray()) + ", " + S3F.toString());
          } 
    }
}
